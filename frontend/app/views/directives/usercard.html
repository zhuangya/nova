<div ng-if="!mini" class="usercard">
  <div ng-if="needLogin">
    <p style="color: white;">请先<a href="/auth/weibo">登录</a></p>
  </div>
  <div ng-if="!needLogin" class="avatar">
    <img width="98px" ng-src="{{user.avatar_large}}"><br/>
    <strong style="color: white;">{{user.screen_name}}</strong><br/>
    <a ng-style="{color: color}" style="margin-right: 3px;" href="#/order">我的订单</a>
    <a ng-style="{color: color}" href="#/me">个人中心</a>
    <br/>
    <center><a ng-style="{color: color}" style="cursor: pointer;" ng-click="logout()"><i class="fa fa-power-off"></i></a></center>
  </div>
</div>

<div ng-if="mini" class="usercard-mini">
  <div ng-if="needLogin">
    <p style="color: white;">请先<a href="/auth/weibo">登录</a></p>
  </div>
  <div ng-if="!needLogin" class="avatar">
    <img width="40px" ng-src="{{user.avatar_large}}">
  </div>
  <div class="op">
    <strong>{{user.screen_name}}</strong><a ng-style="{color: color}" style="cursor: pointer;" ng-click="logout()"><i style="margin-left: 3px;" class="fa fa-power-off"></i></a><br/>
    <a ng-style="{color: color}" style="margin-right: 3px;" href="#/order">我的订单</a>
    <a ng-style="{color: color}" href="#/me">个人中心</a>
  </div>

  <style type="text/css" media="screen">
  .usercard-mini {
    position: absolute;
    width: 160px;
    height: 45px;
  }

  .usercard-mini:after {
    display: block;
    visibility: hidden;
    clear:both;
    content: '\0020';
  }
  .usercard-mini .avatar {
    float: left;
    margin-right: 10px;
  }

  .usercard-mini .avatar img {
    border-radius: 100%;
  }

  .usercard-mini .op {
    float: left;
    font-size: 12px;
  }

  </style>

  <script type="text/javascript" charset="utf-8">
  function updateMiniUsercardPosition() {

    $('.usercard-mini').css({
      top: $(window).innerHeight() - 80
    });
  }

  $(window).resize(function () {
    updateMiniUsercardPosition();
  })
  updateMiniUsercardPosition();
  </script>
</div>

